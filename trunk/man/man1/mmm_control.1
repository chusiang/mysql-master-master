." Text automatically generated by txt2man
.TH mmm_control 1 "Oktober 13, 2008" "MySQL Master-Master Manager" ""
.SH NAME
\fBmmm_control\fP \- MMM\-cluster Management Tool
\fB
.SH SYNOPSIS
.nf
.fam C
\fBmmm_control\fP
\fBmmm_control\fP \fIping\fP
.PP
\fBmmm_control\fP \fIshow\fP
\fBmmm_control\fP @cluster_name \fIshow\fP
.PP
\fBmmm_control\fP \fIset_online\fP \fIhost_name\fP
\fBmmm_control\fP \fIset_offline\fP \fIhost_name\fP
\fBmmm_control\fP \fImove_role\fP \fIrole_name\fP \fIhost_name\fP
.fam T
.fi
.SH DESCRIPTION
MMM (MySQL Master\-Master Replication Manager) is a set of flexible scripts
to perform monitoring and management of MySQL Master\-Master replication 
cluster configurations.
.PP
\fBmmm_control\fP is an interface script to mmmd_mon internals. It could perform 
following operaitons:
.RS
.IP \(bu 3
Check monitoring daemon status (\fIping\fP).
.IP \(bu 3
Show current cluster state (with IPs/Roles/Hosts/States).
.IP \(bu 3
Change hosts states (online/admin_offline).
.IP \(bu 3
Move exclusive roles between hosts.
.RE
.PP
\fBmmm_control\fP itself does not have dedicated config file. It reads \fBmmmd_mon\fP(1) 
config files to get monitoring daemon control port.
.SH OPTIONS AND COMMANDS
.TP
.B
@cluster_name
This option should be always specified first. If it is used, 
then \fBmmm_control\fP would try to read \fBmmmd_mon\fP(1) configuration from 
$BASEDIR/etc/mmm_mon_cluster_name.conf file.
.TP
.B
\fIping\fP
Connects to local monitoring daemon and checks its status.
.TP
.B
\fIshow\fP
Displays detailed information about current mmm\-cluster state 
including hosts states, roles and IPs assignments and monitoring daemon 
status.
.TP
.B
\fIset_online\fP hostname
Changes host status for specified host from 
admin_offline or awaiting_recovery to online and performs roles 
rebalancing.
.TP
.B
\fIset_offline\fP hostname
Changes host status for specified host from any 
non\-offline state to to admin_offline and performs roles rebalancing.
.TP
.B
\fImove_role\fP rolename hostname
Could be used for 'exclusive' roles only. 
Moves 'exclusive' role from one ONLINE host to another and performs roles
rebalancing.
.SH CONFIGURATION
This script uses $BASEDIR/etc/mmm_mon.conf file for its configuration. 
If cluster name option provided, then $BASEDIR/etc/mmm_mon_cluster_name.conf 
file used.
.SH SEE ALSO
More information could be found in \fBmmm_mon.conf\fP(5), \fBmmmd_mon\fP(1).
.SH AUTHOR
Developed by Alexey Kovyrin <http://blog.kovyrin.net>. Consulting and ideas
provided by Peter Zaitsev from Percona Ltd company <http://mysqlperformanceblog.com>.
