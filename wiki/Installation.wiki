#summary Generic installation-related questions
#labels Phase-Deploy,Featured

= Introduction =

To install [http://code.google.com/p/mysql-master-master/ mmm software] you could use bundled install.pl script. Configuration options are described in separate document.


= Details =

Installation script is dedicated to verifying all software prerequisites, copying required files to user-specified or pre-defined directory and to install mmm binaries to system-accessible binaries directory. This script has following set of optional parameters:

  * *–-help* - Show options list
  * *–-prefix=PREFIX* - Specifies installation directory where all mmm-code and data will reside. Default value: ‘/usr/local/mmm’.
  * *–-disable-symlinks* - Disables symlinks creation for mmm binaries. Symlinks creation is enabled by default.
  * *–-symlinks-dir=DIR* - Specifies target directory for mmm binaries symlinks. Default value for this options is ‘/usr/local/sbin’.
  * *-–skip-checks* - Skip all prerequisites checks and force installation process to begin. Default: perform all checks.

= Prerequisites =

Most of monitoring functionality of mmm now is based on Perl ithreads: servers checks, external commands processing and states switching logic are located in separate threads to prevent blocking of execution process because of network delays in checkers code. So, obviously, to use mmm you will need to use threads-enabled version of Perl interpreter.

You can see which (or neither) threading flavour you have by running `perl -V` and looking at the _Platform_ section. If you have `useithreads=define` you have ithreads, if not - you will need to reinstall perl and all modules before mmm deployment.

ARP-pings are performed with `arping` on linux and `send_arp` on Solaris. IP availability checks could be performed by bundled Linux version of `fping` utility. If you want to use this software on Solaris 10, you will need to build and install your own `fping` and `send_arp` utilities using the sources provided in `contrib` directory. To build them you will need to have `gcc` and `libnet` installed on your server.

Some other prerequisites are some Perl modules - I will not describe them all here - installer would help you to figure out which modules are missing and how to install them

When installation will be done, you will need to perform configuration of installed software. Before you will begin, read description of [TypicalUseCases typical use-cases] with configuration files examples. And read documentation about allowed configuration options and their values.

= Running at startup =

To configure mmm_mon to run at startup on RedHat/CentOS (assumes configuration has been complete):

{{{
%> cp /usr/local/mmm/scripts/init.d/mmm_mon /etc/init.d/mmm_mon
%> chkconfig --add mmm_mon
%> chkconfig --levels 2 mmm_mon on # Add any applicable runlevels
%> service mmm_mon start
}}}

To configure mmm_agent on the db hosts to run at startup on RedHat/CentOS (assumes configuration has been complete):

{{{
%> cp /usr/local/mmm/scripts/init.d/mmm_agent /etc/init.d/mmm_agent
%> chkconfig --add mmm_agent
%> chkconfig --levels 2 mmm_agent on # Add any applicable runlevels
%> service mmm_agent start
}}}

= To configure log rotation =

{{{
%> cp /usr/local/mmm/scripts/logrotate.d/mmm /etc/logrotate.d/mmm
}}}